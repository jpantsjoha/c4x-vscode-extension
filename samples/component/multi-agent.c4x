%%{ c4: component }%%
graph TB
    %% Container Boundary
    subgraph AIResearchAssistantSystem {
        %% Components
        Orchestrator[Orchestrator Agent<br/>Component<br/>Python, LangChain]
        ResearchAgent[Research Agent<br/>Component<br/>Python, GPT-4]
        WriterAgent[Writer Agent<br/>Component<br/>Python, Claude 3]
        VectorDB[Knowledge Base<br/>Component<br/>Pinecone]
        WebSearch[Search Tool<br/>Component<br/>SerpAPI]
    }

    %% External
    User[User<br/>Person]
    OpenAI[OpenAI API<br/>External System]
    Anthropic[Anthropic API<br/>External System]

    %% Relationships
    User -->|Asks question| Orchestrator
    Orchestrator -->|Delegates task| ResearchAgent
    Orchestrator -->|Delegates task| WriterAgent
    
    ResearchAgent -->|Searches web| WebSearch
    ResearchAgent -->|Retrieves context| VectorDB
    ResearchAgent -->|Analyzes data| OpenAI
    
    WriterAgent -->|Generates content| Anthropic
    WriterAgent -->|Uses research| ResearchAgent
    
    Orchestrator -->|Returns answer| User
